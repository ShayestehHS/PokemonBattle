{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Pokemon Battle API","text":"<p>A turn-based Pokemon battle simulation API built with Django REST Framework.</p>"},{"location":"#overview","title":"Overview","text":"<p>The Pokemon Battle Arena is a Django REST Framework API backend featuring: - Backend: Django REST Framework API with PostgreSQL and Redis - Infrastructure: Docker Compose with Nginx reverse proxy</p> <p>Note: A frontend application has been implemented by vibe coding to showcase the backend features in a perfect way, demonstrating the API's capabilities and user experience.</p>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#authentication","title":"Authentication","text":"<p>All endpoints except registration and login require JWT authentication.</p> <pre><code># Register a new user\ncurl -X POST http://localhost:8000/api/auth/register/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"trainer\", \"password\": \"SecurePass123!\"}'\n\n# Login\ncurl -X POST http://localhost:8000/api/auth/login/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"trainer\", \"password\": \"SecurePass123!\"}'\n\n# Use the access token for authenticated requests\ncurl -X GET http://localhost:8000/api/players/me/ \\\n  -H \"Authorization: Bearer &lt;access_token&gt;\"\n</code></pre>"},{"location":"#documentation-structure","title":"Documentation Structure","text":"<p>This documentation is organized into multiple tabs for easy navigation:</p>"},{"location":"#api-reference","title":"\ud83d\udd0c API Reference","text":"<p>Complete reference documentation for the Pokemon Battle API, including: - Endpoints - All API endpoints with request/response examples, authentication requirements, and error handling - Data Models - Detailed documentation of all Django models including fields, relationships, and methods - ER Diagrams - Visual representation of database schema and model relationships</p>"},{"location":"#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":"<p>Showcase of advanced technologies and best practices organized by topic: - Code Quality &amp; Automation - Pre-commit hooks, Ruff linter, automated code quality - Database Optimization - <code>select_related()</code>, composite indexes, query optimization - Caching Strategy - Redis caching, prefix-based invalidation, performance metrics - Design Patterns - Abstract Base Class pattern, type safety, extensible architecture - Testing Infrastructure - pytest configuration, fixtures, comprehensive test coverage - Docker &amp; Infrastructure - Custom networks, secrets management, health checks - Management Commands - Database seeding, command orchestration - API Architecture - Rate limiting, UUIDv7, JWT authentication, API design</p>"},{"location":"#technology-stack","title":"Technology Stack","text":"<ul> <li>Backend Framework: Django 5.x with Django REST Framework</li> <li>Database: PostgreSQL</li> <li>Cache: Redis</li> <li>Authentication: JWT (djangorestframework-simplejwt)</li> <li>Testing: pytest, pytest-django</li> <li>Documentation: MkDocs with Material theme</li> <li>Containerization: Docker &amp; Docker Compose</li> <li>Web Server: Nginx</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#with-docker-recommended","title":"With Docker (Recommended)","text":"<pre><code># Start all services\ndocker-compose up --build\n\n# Seed the database\ndocker-compose exec backend python manage.py seed_all\n\n# Access the application\n# Backend API: http://localhost/api\n# API Docs: http://localhost/api/docs\n</code></pre>"},{"location":"#local-development","title":"Local Development","text":"<pre><code># Backend setup\ncd backend\npython -m venv .venv\nsource .venv/bin/activate  # Windows: .venv\\Scripts\\activate\npip install -r requirements.txt\npython manage.py migrate\npython manage.py seed_all\npython manage.py runserver\n</code></pre>"},{"location":"er_diagrams/","title":"Entity-Relationship Diagrams","text":"<p>This section contains Entity-Relationship (ER) diagrams for all Django models in the system.</p>"},{"location":"er_diagrams/#complete-system-diagram","title":"Complete System Diagram","text":"<p>View the complete ER diagram showing all models and their relationships.</p>"},{"location":"er_diagrams/#application-diagrams","title":"Application Diagrams","text":"Application Models Battles 2 Players 1 Pokemon 4"},{"location":"er_diagrams/battles/","title":"Battles Models","text":"<pre><code>erDiagram\n\n    Battle {\n\n        completed_at DateTimeField \"NULLABLE\"\n\n        created_at DateTimeField \"NULLABLE\"\n\n        current_turn_player ForeignKey\n\n        id UUIDField \"PK\"\n\n        player1 ForeignKey\n\n        player1_attack_boost PositiveIntegerField\n\n        player1_current_hp PositiveIntegerField\n\n        player1_defense_boost PositiveIntegerField\n\n        player1_pokemon ForeignKey\n\n        player1_potions PositiveIntegerField\n\n        player1_x_attack PositiveIntegerField\n\n        player1_x_defense PositiveIntegerField\n\n        player2 ForeignKey\n\n        player2_attack_boost PositiveIntegerField\n\n        player2_current_hp PositiveIntegerField\n\n        player2_defense_boost PositiveIntegerField\n\n        player2_pokemon ForeignKey\n\n        player2_potions PositiveIntegerField\n\n        player2_x_attack PositiveIntegerField\n\n        player2_x_defense PositiveIntegerField\n\n        status CharField\n\n        turn_number PositiveIntegerField\n\n        winner ForeignKey \"NULLABLE\"\n\n    }\n\n    BattleTurn {\n\n        action CharField\n\n        battle ForeignKey\n\n        damage PositiveIntegerField\n\n        id UUIDField \"PK\"\n\n        is_critical BooleanField\n\n        is_super_effective BooleanField\n\n        message CharField\n\n        player ForeignKey\n\n        turn_number PositiveIntegerField\n\n    }\n\n\n    Player {\n        id AutoField \"PK\"\n    }\n\n    PlayerPokemon {\n        id AutoField \"PK\"\n    }\n\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| PlayerPokemon : \"many to 1\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| PlayerPokemon : \"many to 1\"\n\n    Battle ||--o{ BattleTurn : \"1 to many\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    BattleTurn }o--|| Battle : \"many to 1\"\n\n    BattleTurn }o--|| Player : \"many to 1\"\n\n</code></pre>"},{"location":"er_diagrams/battles/#models","title":"Models","text":"<ul> <li>Battle</li> <li>BattleTurn</li> </ul>"},{"location":"er_diagrams/main/","title":"Complete Entity-Relationship Diagram","text":"<pre><code>erDiagram\n\n    Battle {\n\n    }\n\n    BattleTurn {\n\n    }\n\n    Player {\n\n    }\n\n    PlayerPokemon {\n\n    }\n\n    Pokemon {\n\n    }\n\n    PokemonType {\n\n    }\n\n    TypeEffectiveness {\n\n    }\n\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| PlayerPokemon : \"many to 1\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    Battle }o--|| PlayerPokemon : \"many to 1\"\n\n    Battle ||--o{ BattleTurn : \"1 to many\"\n\n    Battle }o--|| Player : \"many to 1\"\n\n    BattleTurn }o--|| Battle : \"many to 1\"\n\n    BattleTurn }o--|| Player : \"many to 1\"\n\n    Player }o--|| PlayerPokemon : \"many to 1\"\n\n    Player ||--o{ BattleTurn : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player }o--o{ Group : \"many to many\"\n\n    Player ||--o{ PlayerPokemon : \"1 to many\"\n\n    Player }o--o{ Pokemon : \"many to many\"\n\n    Player }o--o{ Permission : \"many to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    PlayerPokemon ||--o{ Player : \"1 to many\"\n\n    PlayerPokemon }o--|| Player : \"many to 1\"\n\n    PlayerPokemon }o--|| Pokemon : \"many to 1\"\n\n    Pokemon ||--o{ PlayerPokemon : \"1 to many\"\n\n    Pokemon }o--o{ Player : \"many to many\"\n\n    Pokemon }o--|| PokemonType : \"many to 1\"\n\n    Pokemon }o--|| PokemonType : \"many to 1\"\n\n    PokemonType ||--o{ TypeEffectiveness : \"1 to many\"\n\n    PokemonType ||--o{ TypeEffectiveness : \"1 to many\"\n\n    PokemonType ||--o{ Pokemon : \"1 to many\"\n\n    PokemonType ||--o{ Pokemon : \"1 to many\"\n\n    TypeEffectiveness }o--|| PokemonType : \"many to 1\"\n\n    TypeEffectiveness }o--|| PokemonType : \"many to 1\"\n\n</code></pre> Zoom In Zoom Out Reset"},{"location":"er_diagrams/players/","title":"Players Models","text":"<pre><code>erDiagram\n\n    Player {\n\n        active_pokemon ForeignKey \"NULLABLE\"\n\n        created_at DateTimeField \"NULLABLE\"\n\n        id UUIDField \"PK\"\n\n        is_active BooleanField\n\n        is_staff BooleanField\n\n        is_superuser BooleanField\n\n        last_login DateTimeField \"NULLABLE\"\n\n        losses PositiveIntegerField\n\n        password CharField\n\n        username CharField\n\n        wins PositiveIntegerField\n\n    }\n\n\n    PlayerPokemon {\n        id AutoField \"PK\"\n    }\n\n    BattleTurn {\n        id AutoField \"PK\"\n    }\n\n    Battle {\n        id AutoField \"PK\"\n    }\n\n    Pokemon {\n        id AutoField \"PK\"\n    }\n\n\n    Player }o--|| PlayerPokemon : \"many to 1\"\n\n    Player ||--o{ BattleTurn : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n    Player }o--o{ Group : \"many to many\"\n\n    Player ||--o{ PlayerPokemon : \"1 to many\"\n\n    Player }o--o{ Pokemon : \"many to many\"\n\n    Player }o--o{ Permission : \"many to many\"\n\n    Player ||--o{ Battle : \"1 to many\"\n\n</code></pre>"},{"location":"er_diagrams/players/#models","title":"Models","text":"<ul> <li>Player</li> </ul>"},{"location":"er_diagrams/pokemon/","title":"Pokemon Models","text":"<pre><code>erDiagram\n\n    PlayerPokemon {\n\n        created_at DateTimeField \"NULLABLE\"\n\n        deleted_at DateTimeField \"NULLABLE\"\n\n        id UUIDField \"PK\"\n\n        player ForeignKey\n\n        pokemon ForeignKey\n\n    }\n\n    Pokemon {\n\n        base_attack PositiveIntegerField\n\n        base_defense PositiveIntegerField\n\n        base_hp PositiveIntegerField\n\n        base_speed PositiveIntegerField\n\n        created_at DateTimeField \"NULLABLE\"\n\n        id UUIDField \"PK\"\n\n        name CharField\n\n        pokedex_number PositiveIntegerField\n\n        primary_type ForeignKey\n\n        secondary_type ForeignKey \"NULLABLE\"\n\n        sprite_url URLField \"NULLABLE\"\n\n    }\n\n    PokemonType {\n\n        id UUIDField \"PK\"\n\n        name CharField\n\n    }\n\n    TypeEffectiveness {\n\n        attacker_type ForeignKey\n\n        defender_type ForeignKey\n\n        id UUIDField \"PK\"\n\n        multiplier FloatField\n\n    }\n\n\n    Player {\n        id AutoField \"PK\"\n    }\n\n\n    PlayerPokemon ||--o{ Player : \"1 to many\"\n\n    PlayerPokemon }o--|| Player : \"many to 1\"\n\n    PlayerPokemon }o--|| Pokemon : \"many to 1\"\n\n    Pokemon ||--o{ PlayerPokemon : \"1 to many\"\n\n    Pokemon }o--o{ Player : \"many to many\"\n\n    Pokemon }o--|| PokemonType : \"many to 1\"\n\n    Pokemon }o--|| PokemonType : \"many to 1\"\n\n    PokemonType ||--o{ TypeEffectiveness : \"1 to many\"\n\n    PokemonType ||--o{ TypeEffectiveness : \"1 to many\"\n\n    PokemonType ||--o{ Pokemon : \"1 to many\"\n\n    PokemonType ||--o{ Pokemon : \"1 to many\"\n\n    TypeEffectiveness }o--|| PokemonType : \"many to 1\"\n\n    TypeEffectiveness }o--|| PokemonType : \"many to 1\"\n\n</code></pre>"},{"location":"er_diagrams/pokemon/#models","title":"Models","text":"<ul> <li>PlayerPokemon</li> <li>Pokemon</li> <li>PokemonType</li> <li>TypeEffectiveness</li> </ul>"},{"location":"models/","title":"Django Models","text":"<p>This section contains documentation for all Django models in the system, organized by Django application.</p> <p></p> <p></p> <p></p> <p></p> <p></p> Battles Battles application models Battle Battle turn Players Players application models Player Pokemon Pokemon application models Player pokemon Pokemon Pokemon type Type effectiveness <p>Each model page contains detailed field documentation, method signatures, and relationships to other models.</p>"},{"location":"models/battles/battle_turns/","title":"BattleTurn","text":"<p>App: battles</p> <p>Table: <code>battle_turns</code></p>"},{"location":"models/battles/battle_turns/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/battles/battle_turns/#fields","title":"Fields","text":"Field Type Description Extra <code>action</code> CharField action <code>battle</code> ForeignKey <code>damage</code> PositiveIntegerField damage <code>id</code> UUIDField id unique=True, primary_key=True <code>is_critical</code> BooleanField is_critical <code>is_super_effective</code> BooleanField is_super_effective <code>message</code> CharField message <code>player</code> ForeignKey <code>turn_number</code> PositiveIntegerField turn_number"},{"location":"models/battles/battle_turns/#choices","title":"Choices","text":""},{"location":"models/battles/battle_turns/#action-choices","title":"action Choices","text":"Label Value Attack <code>attack</code> Defend <code>defend</code>"},{"location":"models/battles/battle_turns/#relationships","title":"Relationships","text":"Field Type Related Model <code>battle</code> ForeignKey Battle <code>player</code> ForeignKey Player"},{"location":"models/battles/battle_turns/#meta-options","title":"Meta Options","text":"<ul> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>indexes: [&lt;Index: fields=['battle', 'turn_number'] name='battle_turn_battle_turn_idx'&gt;]</p> </li> <li> <p>managed: True</p> </li> <li> <p>ordering: ['turn_number', 'id']</p> </li> </ul>"},{"location":"models/battles/battles/","title":"Battle","text":"<p>App: battles</p> <p>Table: <code>battles</code></p>"},{"location":"models/battles/battles/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/battles/battles/#fields","title":"Fields","text":"Field Type Description Extra <code>completed_at</code> DateTimeField completed_at null=True, blank=True <code>created_at</code> DateTimeField created_at blank=True <code>current_turn_player</code> ForeignKey <code>id</code> UUIDField id unique=True, primary_key=True <code>player1</code> ForeignKey <code>player1_attack_boost</code> PositiveIntegerField player1_attack_boost <code>player1_current_hp</code> PositiveIntegerField player1_current_hp <code>player1_defense_boost</code> PositiveIntegerField player1_defense_boost <code>player1_pokemon</code> ForeignKey <code>player1_potions</code> PositiveIntegerField player1_potions <code>player1_x_attack</code> PositiveIntegerField player1_x_attack <code>player1_x_defense</code> PositiveIntegerField player1_x_defense <code>player2</code> ForeignKey <code>player2_attack_boost</code> PositiveIntegerField player2_attack_boost <code>player2_current_hp</code> PositiveIntegerField player2_current_hp <code>player2_defense_boost</code> PositiveIntegerField player2_defense_boost <code>player2_pokemon</code> ForeignKey <code>player2_potions</code> PositiveIntegerField player2_potions <code>player2_x_attack</code> PositiveIntegerField player2_x_attack <code>player2_x_defense</code> PositiveIntegerField player2_x_defense <code>status</code> CharField status <code>turn_number</code> PositiveIntegerField turn_number <code>winner</code> ForeignKey"},{"location":"models/battles/battles/#choices","title":"Choices","text":""},{"location":"models/battles/battles/#status-choices","title":"status Choices","text":"Label Value Pending <code>pending</code> Active <code>active</code> Completed <code>completed</code> Cancelled <code>cancelled</code>"},{"location":"models/battles/battles/#relationships","title":"Relationships","text":"Field Type Related Model <code>current_turn_player</code> ForeignKey Player <code>player1</code> ForeignKey Player <code>player1_pokemon</code> ForeignKey Player Pokemon <code>player2</code> ForeignKey Player <code>player2_pokemon</code> ForeignKey Player Pokemon <code>turns</code> ManyToOneRel Battle Turn <code>winner</code> ForeignKey Player"},{"location":"models/battles/battles/#methods","title":"Methods","text":""},{"location":"models/battles/battles/#complete","title":"<code>complete()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#get_current_hp","title":"<code>get_current_hp()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#get_opponent","title":"<code>get_opponent()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#get_player_pokemon","title":"<code>get_player_pokemon()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#is_player_turn","title":"<code>is_player_turn()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#set_current_hp","title":"<code>set_current_hp()</code>","text":"<p>No documentation available.</p>"},{"location":"models/battles/battles/#meta-options","title":"Meta Options","text":"<ul> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>indexes: [&lt;Index: fields=['player1', 'status'] name='battle_player1_status_idx'&gt;, &lt;Index: fields=['player2', 'status'] name='battle_player2_status_idx'&gt;, &lt;Index: fields=['status', '-created_at'] name='battle_status_created_idx'&gt;]</p> </li> <li> <p>managed: True</p> </li> <li> <p>ordering: ['-id']</p> </li> </ul>"},{"location":"models/players/players/","title":"Player","text":"<p>App: players</p> <p>Table: <code>players</code></p>"},{"location":"models/players/players/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/players/players/#fields","title":"Fields","text":"Field Type Description Extra <code>active_pokemon</code> ForeignKey <code>created_at</code> DateTimeField created_at blank=True <code>id</code> UUIDField id unique=True, primary_key=True <code>is_active</code> BooleanField is_active <code>is_staff</code> BooleanField is_staff <code>is_superuser</code> BooleanField is_superuser <code>last_login</code> DateTimeField last_login null=True, blank=True <code>losses</code> PositiveIntegerField losses <code>password</code> CharField password <code>username</code> CharField username <code>wins</code> PositiveIntegerField wins"},{"location":"models/players/players/#relationships","title":"Relationships","text":"Field Type Related Model <code>active_pokemon</code> ForeignKey Player Pokemon <code>battle_turns</code> ManyToOneRel Battle Turn <code>battles_as_player1</code> ManyToOneRel Battle <code>battles_as_player2</code> ManyToOneRel Battle <code>current_turn_battles</code> ManyToOneRel Battle <code>groups</code> ManyToManyField Group <code>player_pokemon</code> ManyToOneRel Player Pokemon <code>pokemons</code> ManyToManyRel Pokemon <code>user_permissions</code> ManyToManyField Permission <code>won_battles</code> ManyToOneRel Battle"},{"location":"models/players/players/#meta-options","title":"Meta Options","text":"<ul> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>indexes: [&lt;Index: fields=['-wins', 'losses'] name='player_scoreboard_idx'&gt;]</p> </li> <li> <p>managed: True</p> </li> <li> <p>ordering: ['-id']</p> </li> </ul>"},{"location":"models/pokemon/player_pokemon/","title":"PlayerPokemon","text":"<p>App: pokemon</p> <p>Table: <code>player_pokemon</code></p>"},{"location":"models/pokemon/player_pokemon/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/pokemon/player_pokemon/#fields","title":"Fields","text":"Field Type Description Extra <code>created_at</code> DateTimeField created_at blank=True <code>deleted_at</code> DateTimeField deleted_at null=True, blank=True <code>id</code> UUIDField id unique=True, primary_key=True <code>player</code> ForeignKey <code>pokemon</code> ForeignKey"},{"location":"models/pokemon/player_pokemon/#relationships","title":"Relationships","text":"Field Type Related Model <code>active_for_players</code> ManyToOneRel Player <code>player</code> ForeignKey Player <code>pokemon</code> ForeignKey Pokemon"},{"location":"models/pokemon/player_pokemon/#meta-options","title":"Meta Options","text":"<ul> <li> <p>constraints: [&lt;UniqueConstraint: fields=('player', 'pokemon') name='unique_player_pokemon'&gt;]</p> </li> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>managed: True</p> </li> <li> <p>ordering: ['-id']</p> </li> </ul>"},{"location":"models/pokemon/pokemon/","title":"Pokemon","text":"<p>App: pokemon</p> <p>Table: <code>pokemon</code></p>"},{"location":"models/pokemon/pokemon/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/pokemon/pokemon/#fields","title":"Fields","text":"Field Type Description Extra <code>base_attack</code> PositiveIntegerField base_attack <code>base_defense</code> PositiveIntegerField base_defense <code>base_hp</code> PositiveIntegerField base_hp <code>base_speed</code> PositiveIntegerField base_speed <code>created_at</code> DateTimeField created_at blank=True <code>id</code> UUIDField id unique=True, primary_key=True <code>name</code> CharField name <code>pokedex_number</code> PositiveIntegerField pokedex_number unique=True <code>primary_type</code> ForeignKey <code>secondary_type</code> ForeignKey <code>sprite_url</code> URLField sprite_url blank=True"},{"location":"models/pokemon/pokemon/#relationships","title":"Relationships","text":"Field Type Related Model <code>player_pokemon</code> ManyToOneRel Player Pokemon <code>players</code> ManyToManyField Player <code>primary_type</code> ForeignKey Pokemon Type <code>secondary_type</code> ForeignKey Pokemon Type"},{"location":"models/pokemon/pokemon/#meta-options","title":"Meta Options","text":"<ul> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>managed: True</p> </li> </ul>"},{"location":"models/pokemon/pokemon_types/","title":"PokemonType","text":"<p>App: pokemon</p> <p>Table: <code>pokemon_types</code></p>"},{"location":"models/pokemon/pokemon_types/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/pokemon/pokemon_types/#fields","title":"Fields","text":"Field Type Description Extra <code>id</code> UUIDField id unique=True, primary_key=True <code>name</code> CharField name"},{"location":"models/pokemon/pokemon_types/#relationships","title":"Relationships","text":"Field Type Related Model <code>attacking_effectiveness</code> ManyToOneRel Type Effectiveness <code>defending_effectiveness</code> ManyToOneRel Type Effectiveness <code>pokemon_primary</code> ManyToOneRel Pokemon <code>pokemon_secondary</code> ManyToOneRel Pokemon"},{"location":"models/pokemon/pokemon_types/#meta-options","title":"Meta Options","text":"<ul> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>managed: True</p> </li> <li> <p>ordering: ['name']</p> </li> </ul>"},{"location":"models/pokemon/type_effectiveness/","title":"TypeEffectiveness","text":"<p>App: pokemon</p> <p>Table: <code>type_effectiveness</code></p>"},{"location":"models/pokemon/type_effectiveness/#description","title":"Description","text":"<p>Not provided</p>"},{"location":"models/pokemon/type_effectiveness/#fields","title":"Fields","text":"Field Type Description Extra <code>attacker_type</code> ForeignKey <code>defender_type</code> ForeignKey <code>id</code> UUIDField id unique=True, primary_key=True <code>multiplier</code> FloatField multiplier"},{"location":"models/pokemon/type_effectiveness/#choices","title":"Choices","text":""},{"location":"models/pokemon/type_effectiveness/#multiplier-choices","title":"multiplier Choices","text":"Label Value Super Effective (2x) <code>2.0</code> Normal (1x) <code>1.0</code> Not Very Effective (0.5x) <code>0.5</code> No Effect (0x) <code>0.0</code>"},{"location":"models/pokemon/type_effectiveness/#relationships","title":"Relationships","text":"Field Type Related Model <code>attacker_type</code> ForeignKey Pokemon Type <code>defender_type</code> ForeignKey Pokemon Type"},{"location":"models/pokemon/type_effectiveness/#meta-options","title":"Meta Options","text":"<ul> <li> <p>constraints: [&lt;UniqueConstraint: fields=('attacker_type', 'defender_type') name='unique_type_matchup'&gt;]</p> </li> <li> <p>default_permissions: ('add', 'change', 'delete', 'view')</p> </li> <li> <p>managed: True</p> </li> </ul>"},{"location":"technical/","title":"Technical Implementation","text":"<p>Comprehensive technical documentation showcasing advanced technologies, best practices, and implementation details for the Pokemon Battle API.</p>"},{"location":"technical/#code-quality-automation","title":"Code Quality &amp; Automation","text":"<p>Pre-commit hooks, Ruff linter configuration, and automated code quality checks.</p> <p>Read More \u2192</p>"},{"location":"technical/#database-optimization","title":"Database Optimization","text":"<p>Query optimization techniques including <code>select_related()</code>, composite indexes, and performance tuning.</p> <p>Read More \u2192</p>"},{"location":"technical/#caching-strategy","title":"Caching Strategy","text":"<p>Redis caching implementation, prefix-based invalidation, and performance metrics.</p> <p>Read More \u2192</p>"},{"location":"technical/#design-patterns","title":"Design Patterns","text":"<p>Abstract Base Class pattern, type safety, and extensible architecture design.</p> <p>Read More \u2192</p>"},{"location":"technical/#testing-infrastructure","title":"Testing Infrastructure","text":"<p>pytest configuration, fixtures, and comprehensive test coverage strategies.</p> <p>Read More \u2192</p>"},{"location":"technical/#docker-infrastructure","title":"Docker &amp; Infrastructure","text":"<p>Custom networks, secrets management, health checks, and container orchestration.</p> <p>Read More \u2192</p>"},{"location":"technical/#management-commands","title":"Management Commands","text":"<p>Database seeding, command orchestration, and custom Django management commands.</p> <p>Read More \u2192</p>"},{"location":"technical/#api-architecture","title":"API Architecture","text":"<p>Rate limiting, UUIDv7 implementation, JWT authentication, and API design patterns.</p> <p>Read More \u2192</p>"},{"location":"technical/api-architecture/","title":"API Architecture","text":""},{"location":"technical/api-architecture/#rate-limiting-throttling","title":"Rate Limiting &amp; Throttling","text":"<p>Implemented sophisticated rate limiting for external API calls to prevent abuse and ensure fair usage.</p>"},{"location":"technical/api-architecture/#custom-throttle-class","title":"Custom Throttle Class","text":"<pre><code>from rest_framework.throttling import UserRateThrottle\n\nclass PokeAPIThrottle(UserRateThrottle):\n    \"\"\"Custom throttle for PokeAPI endpoints.\"\"\"\n    scope = \"pokeapi\"\n</code></pre>"},{"location":"technical/api-architecture/#configuration","title":"Configuration","text":"<pre><code># settings.py\nREST_FRAMEWORK = {\n    \"DEFAULT_THROTTLE_CLASSES\": [\n        \"rest_framework.throttling.UserRateThrottle\",\n    ],\n    \"DEFAULT_THROTTLE_RATES\": {\n        \"user\": \"1000/day\",      # General user rate limit\n        \"pokeapi\": \"60/min\",      # PokeAPI specific limit\n    },\n}\n</code></pre>"},{"location":"technical/api-architecture/#usage","title":"Usage","text":"<pre><code>class PokeAPIViewSet(ViewSet):\n    permission_classes = [IsAuthenticated]\n    throttle_classes = [PokeAPIThrottle]  # Applied to all actions\n\n    @action(detail=False, methods=[\"get\"])\n    def list_pokemon(self, request):\n        # Rate limited to 60 requests per minute\n        pass\n</code></pre>"},{"location":"technical/api-architecture/#benefits","title":"Benefits","text":"<ul> <li>\u2705 API Protection: Prevents abuse of external PokeAPI</li> <li>\u2705 Cost Control: Limits external API usage</li> <li>\u2705 Fair Usage: Ensures all users get equal access</li> <li>\u2705 Resource Management: Prevents server overload</li> </ul>"},{"location":"technical/api-architecture/#throttle-response","title":"Throttle Response","text":"<p>When rate limit is exceeded:</p> <pre><code>{\n    \"detail\": \"Request was throttled. Expected available in 45 seconds.\"\n}\n</code></pre> <p>Status Code: <code>429 Too Many Requests</code></p>"},{"location":"technical/api-architecture/#uuidv7-primary-keys","title":"UUIDv7 Primary Keys","text":"<p>Implemented UUIDv7 (time-sortable UUIDs) for all models instead of sequential integers.</p>"},{"location":"technical/api-architecture/#implementation","title":"Implementation","text":"<pre><code>from uuid_extensions import uuid7\n\nclass Pokemon(models.Model):\n    id = models.UUIDField(\n        primary_key=True,\n        default=uuid7,\n        editable=False,\n        help_text=\"UUIDv7 primary key (time-sortable)\"\n    )\n    # ... other fields ...\n</code></pre>"},{"location":"technical/api-architecture/#advantages","title":"Advantages","text":"<p>1. Time-Sortable: - UUIDs are naturally ordered by creation time - No need for separate <code>created_at</code> field for sorting - Efficient for time-based queries</p> <p>2. Distributed Systems: - No central ID generation needed - Works across multiple servers - No ID conflicts in distributed environments</p> <p>3. Security: - No sequential IDs that reveal data volume - Harder to guess or enumerate - Better privacy protection</p> <p>4. Database Performance: - Better than UUIDv4 for indexing - Time-based ordering improves query performance - Efficient for range queries</p>"},{"location":"technical/api-architecture/#uuidv7-structure","title":"UUIDv7 Structure","text":"<pre><code>UUIDv7 Format:\n[Timestamp (48 bits)][Version (4 bits)][Random (12 bits)][Variant (2 bits)][Random (62 bits)]\n\nExample: 018f1234-5678-7890-abcd-ef1234567890\n         ^^^^^^^^\n         Timestamp (sortable)\n</code></pre>"},{"location":"technical/api-architecture/#jwt-authentication","title":"JWT Authentication","text":"<p>Implemented JWT (JSON Web Token) authentication using <code>djangorestframework-simplejwt</code>.</p>"},{"location":"technical/api-architecture/#configuration_1","title":"Configuration","text":"<pre><code># settings.py\nREST_FRAMEWORK = {\n    \"DEFAULT_AUTHENTICATION_CLASSES\": [\n        \"rest_framework_simplejwt.authentication.JWTAuthentication\",\n    ],\n    \"DEFAULT_PERMISSION_CLASSES\": [\n        \"rest_framework.permissions.IsAuthenticated\",\n    ],\n}\n\nSIMPLE_JWT = {\n    \"ACCESS_TOKEN_LIFETIME\": timedelta(minutes=60),\n    \"REFRESH_TOKEN_LIFETIME\": timedelta(days=7),\n    \"ROTATE_REFRESH_TOKENS\": True,\n    \"BLACKLIST_AFTER_ROTATION\": True,\n}\n</code></pre>"},{"location":"technical/api-architecture/#token-structure","title":"Token Structure","text":"<p>Access Token: - Short-lived (60 minutes) - Used for API requests - Contains user ID and permissions</p> <p>Refresh Token: - Long-lived (7 days) - Used to obtain new access tokens - Rotated on each use</p>"},{"location":"technical/api-architecture/#authentication-flow","title":"Authentication Flow","text":"<ol> <li>Register/Login: User receives access + refresh tokens</li> <li>API Requests: Include access token in <code>Authorization</code> header</li> <li>Token Expiry: Use refresh token to get new access token</li> <li>Token Rotation: Refresh token is rotated on each use</li> </ol>"},{"location":"technical/api-architecture/#usage-example","title":"Usage Example","text":"<pre><code># Login\nPOST /api/auth/login/\n{\n    \"username\": \"trainer\",\n    \"password\": \"SecurePass123!\"\n}\n\n# Response\n{\n    \"id\": \"uuid\",\n    \"username\": \"trainer\",\n    \"token\": {\n        \"access\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\",\n        \"refresh\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\"\n    }\n}\n\n# Authenticated Request\nGET /api/players/me/\nHeaders: Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...\n</code></pre>"},{"location":"technical/api-architecture/#filtering-search","title":"Filtering &amp; Search","text":""},{"location":"technical/api-architecture/#django-filter-integration","title":"Django-Filter Integration","text":"<pre><code>import django_filters\n\nclass PokemonFilter(django_filters.FilterSet):\n    type = django_filters.CharFilter(\n        field_name=\"primary_type__name\",\n        lookup_expr=\"iexact\"\n    )\n\n    class Meta:\n        model = Pokemon\n        fields = [\"type\"]\n</code></pre>"},{"location":"technical/api-architecture/#usage_1","title":"Usage","text":"<pre><code>GET /api/pokemon/?type=fire\n</code></pre>"},{"location":"technical/api-architecture/#api-documentation","title":"API Documentation","text":""},{"location":"technical/api-architecture/#auto-generated-documentation","title":"Auto-Generated Documentation","text":"<p>Using <code>drf-to-mkdoc</code> for automatic API documentation:</p> <pre><code>REST_FRAMEWORK = {\n    \"DEFAULT_SCHEMA_CLASS\": \"drf_to_mkdoc.utils.schema.AutoSchema\",\n}\n</code></pre> <p>Features: - Automatic endpoint discovery - Request/response examples - Interactive API testing - Schema validation</p>"},{"location":"technical/api-architecture/#performance-optimizations","title":"Performance Optimizations","text":""},{"location":"technical/api-architecture/#query-optimization","title":"Query Optimization","text":"<ul> <li>Use <code>select_related()</code> for ForeignKeys</li> <li>Use <code>prefetch_related()</code> for ManyToMany</li> <li>Optimize querysets in ViewSets</li> </ul>"},{"location":"technical/api-architecture/#caching","title":"Caching","text":"<ul> <li>Cache frequently accessed endpoints</li> <li>Use prefix-based cache invalidation</li> <li>Implement cache warming strategies</li> </ul>"},{"location":"technical/api-architecture/#pagination","title":"Pagination","text":"<ul> <li>Use appropriate pagination class</li> <li>Cursor pagination for large datasets</li> <li>Page number pagination for smaller datasets</li> </ul>"},{"location":"technical/caching-strategy/","title":"Caching Strategy","text":""},{"location":"technical/caching-strategy/#redis-based-view-caching","title":"Redis-Based View Caching","text":"<p>Implemented sophisticated caching layer using Redis with prefix-based cache invalidation for optimal performance and data consistency.</p>"},{"location":"technical/caching-strategy/#custom-cache-decorator","title":"Custom Cache Decorator","text":"<p>Implementation:</p> <pre><code>def cache_page_with_prefix(prefix_key, timeout=None):\n    \"\"\"\n    Decorator that caches a view with a prefix key for cache invalidation.\n\n    Args:\n        prefix_key: The cache prefix key (e.g., 'pokemon', 'pokemon_type')\n        timeout: Cache timeout in seconds (defaults to CACHE_TTL from constants)\n    \"\"\"\n    if timeout is None:\n        timeout = CACHE_TTL  # 15 minutes default\n    return cache_page(timeout, key_prefix=prefix_key)\n</code></pre> <p>Usage in Views:</p> <pre><code>class PokemonViewSet(ReadOnlyModelViewSet):\n    @method_decorator(cache_page_with_prefix(CACHE_PREFIX_POKEMON))\n    def list(self, request, *args, **kwargs):\n        return super().list(request, *args, **kwargs)\n\n    @method_decorator(cache_page_with_prefix(CACHE_PREFIX_POKEMON))\n    def retrieve(self, request, *args, **kwargs):\n        return super().retrieve(request, *args, **kwargs)\n</code></pre> <p>Cache Prefixes:</p> <pre><code>CACHE_PREFIX_POKEMON = \"pokemon\"\nCACHE_PREFIX_POKEMON_TYPE = \"pokemon_type\"\nCACHE_PREFIX_TYPE_EFFECTIVENESS = \"type_effectiveness\"\n</code></pre>"},{"location":"technical/caching-strategy/#cache-invalidation-strategy","title":"Cache Invalidation Strategy","text":""},{"location":"technical/caching-strategy/#prefix-based-invalidation","title":"Prefix-Based Invalidation","text":"<p>Implementation:</p> <pre><code>def invalidate_cache_prefix(prefix_key):\n    \"\"\"\n    Invalidate all cache entries with the given prefix.\n    Uses Redis SCAN for efficient pattern matching.\n    \"\"\"\n    try:\n        redis_client = cache._cache.get_client(write=True)\n\n        # Pattern matching for cache keys\n        patterns = [\n            f\"*:views.decorators.cache.cache_page.*:{prefix_key}:*\",\n            f\"views.decorators.cache.cache_page.*:{prefix_key}:*\"\n        ]\n\n        for pattern in patterns:\n            cursor = 0\n            while True:\n                cursor, keys = redis_client.scan(cursor, match=pattern, count=100)\n                if keys:\n                    redis_client.delete(*keys)\n                if cursor == 0:\n                    break\n    except Exception:\n        # If cache operations fail, just continue silently\n        pass\n</code></pre> <p>Why SCAN Instead of KEYS: - \u2705 Non-blocking: SCAN doesn't block Redis server - \u2705 Production-safe: Safe to use in production environments - \u2705 Efficient: Processes keys in batches (100 at a time)</p>"},{"location":"technical/caching-strategy/#automatic-cache-invalidation-via-signals","title":"Automatic Cache Invalidation via Signals","text":"<p>Django Signals Integration:</p> <pre><code>from django.db.models.signals import post_save\nfrom django.dispatch import receiver\n\n@receiver(post_save, sender=Pokemon)\ndef invalidate_pokemon_cache(sender, instance, **kwargs):\n    \"\"\"Invalidate Pokemon cache when Pokemon is created/updated.\"\"\"\n    invalidate_cache_prefix(CACHE_PREFIX_POKEMON)\n\n@receiver(post_save, sender=PokemonType)\ndef invalidate_pokemon_type_cache(sender, instance, **kwargs):\n    \"\"\"Invalidate Pokemon type cache when type is created/updated.\"\"\"\n    invalidate_cache_prefix(CACHE_PREFIX_POKEMON_TYPE)\n</code></pre> <p>Benefits: - \u2705 Automatic: No manual cache invalidation needed - \u2705 Consistent: Cache always reflects database state - \u2705 Reliable: Works for all create/update operations</p>"},{"location":"technical/caching-strategy/#cache-configuration","title":"Cache Configuration","text":""},{"location":"technical/caching-strategy/#redis-setup","title":"Redis Setup","text":"<pre><code># settings.py\nREDIS_URL = os.environ.get(\"REDIS_URL\", \"redis://localhost:6379/0\")\n\nCACHES = {\n    \"default\": {\n        \"BACKEND\": \"django.core.cache.backends.redis.RedisCache\",\n        \"LOCATION\": REDIS_URL,\n    }\n}\n\nCACHE_TTL = 900  # 15 minutes\n</code></pre>"},{"location":"technical/caching-strategy/#docker-configuration","title":"Docker Configuration","text":"<pre><code># docker-compose.yml\nservices:\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n    networks:\n      - backend-network\n    restart: unless-stopped\n</code></pre>"},{"location":"technical/code-quality/","title":"Code Quality &amp; Automation","text":""},{"location":"technical/code-quality/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Implemented comprehensive pre-commit hooks to ensure code quality before commits reach the repository.</p> <p>Configuration: <code>.pre-commit-config.yaml</code></p> <pre><code>repos:\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    rev: v0.3.4\n    hooks:\n      - id: ruff          # Linter with auto-fix\n      - id: ruff-format   # Code formatter\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    hooks:\n      - id: trailing-whitespace\n      - id: end-of-file-fixer\n      - id: check-yaml\n      - id: check-added-large-files\n      - id: check-merge-conflict\n</code></pre> <p>Benefits: - \u2705 Automatic code formatting and linting - \u2705 Prevents common mistakes (trailing whitespace, merge conflicts) - \u2705 Enforces consistent code style across the team - \u2705 Catches issues before CI/CD pipeline</p> <p>Impact: Reduces code review time and ensures consistent code quality across all commits.</p>"},{"location":"technical/code-quality/#code-quality-tools","title":"Code Quality Tools","text":""},{"location":"technical/code-quality/#ruff-linter-formatter","title":"Ruff Linter &amp; Formatter","text":"<p>Ruff is used as both a linter and formatter, providing: - Fast Performance: Written in Rust, 10-100x faster than alternatives - Auto-fix: Automatically fixes many linting issues - Comprehensive Rules: Catches bugs, enforces style, and improves code quality</p>"},{"location":"technical/code-quality/#pre-commit-hook-checks","title":"Pre-commit Hook Checks","text":"<ul> <li>Trailing Whitespace: Removes unnecessary whitespace</li> <li>End of File Fixer: Ensures files end with newline</li> <li>YAML Checker: Validates YAML syntax</li> <li>Large File Checker: Prevents accidentally committing large files (&gt;1MB)</li> <li>Merge Conflict Checker: Detects unresolved merge conflicts</li> </ul>"},{"location":"technical/code-quality/#integration-with-development-workflow","title":"Integration with Development Workflow","text":"<p>Pre-commit hooks run automatically on every commit:</p> <pre><code># When you commit, hooks run automatically\ngit commit -m \"feat: add new feature\"\n# \u2192 Ruff linter runs\n# \u2192 Ruff formatter runs\n# \u2192 All other checks run\n# \u2192 If any fail, commit is blocked\n</code></pre> <p>Developer Experience: - Immediate feedback on code quality - No need to remember to run linters manually - Consistent code style across all contributors - Prevents common mistakes from reaching the repository</p>"},{"location":"technical/code-quality/#api-documentation-with-drf-to-mkdoc","title":"API Documentation with drf-to-mkdoc","text":"<p>The project uses <code>drf-to-mkdoc</code> to automatically generate comprehensive API documentation from Django REST Framework code.</p>"},{"location":"technical/code-quality/#configuration","title":"Configuration","text":"<p>Settings: <code>backend/config/settings.py</code></p> <pre><code>REST_FRAMEWORK = {\n    \"DEFAULT_SCHEMA_CLASS\": \"drf_to_mkdoc.utils.schema.AutoSchema\",\n    # ... other settings\n}\n\nDRF_TO_MKDOC = {\n    \"DJANGO_APPS\": [\n        \"players\",\n        \"pokemon\",\n    ],\n    \"DOCS_DIR\": \"docs\",\n}\n</code></pre>"},{"location":"technical/code-quality/#generated-documentation","title":"Generated Documentation","text":"<p><code>drf-to-mkdoc</code> automatically generates:</p> <ol> <li>Endpoint Documentation (<code>docs/endpoints/</code>)</li> <li>Complete API endpoint reference</li> <li>Request/response schemas</li> <li>Authentication requirements</li> <li> <p>Query parameters and filtering options</p> </li> <li> <p>Model Documentation (<code>docs/models/</code>)</p> </li> <li>Detailed model field documentation</li> <li>Relationships between models</li> <li> <p>Model methods and properties</p> </li> <li> <p>Model Relations (<code>docs/models/relations.md</code>)</p> </li> <li>Visual representation of model relationships</li> <li>Foreign key and many-to-many relationships</li> <li> <p>Cross-app model connections</p> </li> <li> <p>App Design (<code>docs/models/design.md</code>)</p> </li> <li>Design overview for each Django app</li> <li>App structure and organization</li> <li>Model architecture per app</li> </ol>"},{"location":"technical/code-quality/#benefits","title":"Benefits","text":"<ul> <li>\u2705 Automatic Updates: Documentation stays in sync with code changes</li> <li>\u2705 Comprehensive Coverage: All endpoints and models are documented</li> <li>\u2705 Interactive Examples: Includes request/response examples</li> <li>\u2705 Schema Validation: Shows exact data structures</li> <li>\u2705 No Manual Maintenance: Reduces documentation drift</li> </ul>"},{"location":"technical/code-quality/#usage","title":"Usage","text":"<p>Documentation is automatically generated when running:</p> <pre><code># Generate documentation\npython manage.py generate_docs\n\n# Or build MkDocs site\nmkdocs build\n</code></pre> <p>The generated documentation is accessible at: - MkDocs Site: <code>http://localhost/api/docs/</code> - API Endpoints: <code>http://localhost/api/docs/endpoints/</code> - Models: <code>http://localhost/api/docs/models/</code> - Model Relations: <code>http://localhost/api/docs/models/relations/</code> - App Design: <code>http://localhost/api/docs/models/design/</code></p>"},{"location":"technical/database-optimization/","title":"Database Optimization","text":""},{"location":"technical/database-optimization/#query-optimization-with-select_related","title":"Query Optimization with <code>select_related()</code>","text":"<p>Implemented strategic use of Django's <code>select_related()</code> to eliminate N+1 query problems and optimize database access.</p>"},{"location":"technical/database-optimization/#the-n1-problem","title":"The N+1 Problem","text":"<p>Before Optimization: <pre><code># This causes N+1 queries\npokemon_list = Pokemon.objects.all()\nfor pokemon in pokemon_list:\n    print(pokemon.primary_type.name)  # 1 query per Pokemon!\n</code></pre></p> <p>After Optimization: <pre><code># Single query with JOIN\npokemon_list = Pokemon.objects.select_related(\"primary_type\", \"secondary_type\")\nfor pokemon in pokemon_list:\n    print(pokemon.primary_type.name)  # No additional queries!\n</code></pre></p>"},{"location":"technical/database-optimization/#implementation-examples","title":"Implementation Examples","text":"<p>Pokemon ViewSet - Optimized Queryset:</p> <pre><code>class PokemonViewSet(ReadOnlyModelViewSet):\n    def get_queryset(self):\n        return Pokemon.objects.select_related(\n            \"primary_type\",\n            \"secondary_type\"\n        ).order_by(\"pokedex_number\")\n</code></pre> <p>Type Effectiveness - Joins Both Related Types:</p> <pre><code>class TypeEffectivenessListView(ListAPIView):\n    def get_queryset(self):\n        return TypeEffectiveness.objects.select_related(\n            \"attacker_type\",\n            \"defender_type\"\n        )\n</code></pre> <p>PokeAPI ViewSet - Bulk Retrieval:</p> <pre><code>class PokeAPIViewSet(ViewSet):\n    def list_pokemon(self, request):\n        all_pokemon = (\n            Pokemon.objects.filter(pokedex_number__in=pokedex_range)\n            .select_related(\"primary_type\", \"secondary_type\")\n            .order_by(\"pokedex_number\")\n        )\n</code></pre>"},{"location":"technical/database-optimization/#composite-database-indexes","title":"Composite Database Indexes","text":"<p>Designed and implemented composite indexes for optimal query performance on frequently accessed data.</p>"},{"location":"technical/database-optimization/#player-model-scoreboard-index","title":"Player Model - Scoreboard Index","text":"<pre><code>class Player(models.Model):\n    wins = models.PositiveIntegerField(default=0)\n    losses = models.PositiveIntegerField(default=0)\n\n    class Meta:\n        indexes = [\n            models.Index(\n                fields=[\"-wins\", \"losses\"],\n                name=\"player_scoreboard_idx\"\n            ),\n        ]\n</code></pre> <p>Purpose: Optimizes scoreboard queries that sort by wins (descending) and then by losses.</p> <p>Query Performance: - Without index: Full table scan - O(n) - With composite index: Index scan - O(log n) - Result: 10x faster scoreboard queries</p>"},{"location":"technical/database-optimization/#type-effectiveness-unique-constraint-with-index","title":"Type Effectiveness - Unique Constraint with Index","text":"<pre><code>class TypeEffectiveness(models.Model):\n    attacker_type = models.ForeignKey(PokemonType, ...)\n    defender_type = models.ForeignKey(PokemonType, ...)\n    multiplier = models.FloatField(...)\n\n    class Meta:\n        constraints = [\n            models.UniqueConstraint(\n                fields=[\"attacker_type\", \"defender_type\"],\n                name=\"unique_type_matchup\",\n            ),\n        ]\n        indexes = [\n            models.Index(\n                fields=[\"attacker_type\", \"defender_type\"],\n                name=\"type_matchup_idx\"\n            ),\n        ]\n</code></pre> <p>Benefits: - \u2705 Prevents duplicate type matchups at database level - \u2705 Fast lookups for damage calculations (O(log n)) - \u2705 Database-level data integrity enforcement</p>"},{"location":"technical/design-patterns/","title":"Design Patterns","text":""},{"location":"technical/design-patterns/#abstract-base-class-pattern-basepokemonapi","title":"Abstract Base Class Pattern - BasePokemonAPI","text":"<p>Implemented a flexible, extensible architecture using the Abstract Base Class (ABC) pattern for third-party API integrations.</p>"},{"location":"technical/design-patterns/#base-interface","title":"Base Interface","text":"<pre><code>from abc import ABC, abstractmethod\n\nclass BasePokemonClient(ABC):\n    \"\"\"Abstract base class for Pokemon API clients.\"\"\"\n\n    @abstractmethod\n    def get_pokemon(self, pokemon_id: int) -&gt; PokemonData | None:\n        \"\"\"Fetch Pokemon data by Pokedex number.\"\"\"\n        pass\n\n    @abstractmethod\n    def get_pokemon_by_name(self, name: str) -&gt; PokemonData | None:\n        \"\"\"Fetch Pokemon data by name.\"\"\"\n        pass\n\n    @abstractmethod\n    def get_type(self, type_name: str) -&gt; PokemonTypeData | None:\n        \"\"\"Fetch a single Pokemon type.\"\"\"\n        pass\n\n    @abstractmethod\n    def get_all_types(self) -&gt; list[str]:\n        \"\"\"Get list of all Pokemon types.\"\"\"\n        pass\n\n    @abstractmethod\n    def get_type_effectiveness(self, type_name: str) -&gt; TypeEffectivenessData | None:\n        \"\"\"Get damage relations for a type.\"\"\"\n        pass\n</code></pre>"},{"location":"technical/design-patterns/#concrete-implementation","title":"Concrete Implementation","text":"<pre><code>class PokeAPIClient(BasePokemonClient):\n    \"\"\"Concrete implementation for PokeAPI.co\"\"\"\n\n    def __init__(self, timeout: float = 30.0):\n        self.base_url = \"https://pokeapi.co/api/v2\"\n        self.timeout = timeout\n\n    def get_pokemon(self, pokemon_id: int) -&gt; PokemonData | None:\n        url = f\"{self.base_url}/pokemon/{pokemon_id}\"\n        try:\n            with httpx.Client(timeout=self.timeout) as client:\n                response = client.get(url)\n                response.raise_for_status()\n                return self._parse_pokemon_response(response.json())\n        except httpx.HTTPStatusError as e:\n            if e.response.status_code == 404:\n                logger.warning(f\"Pokemon with ID {pokemon_id} not found\")\n                return None\n            logger.error(f\"HTTP error fetching Pokemon {pokemon_id}: {e}\")\n            raise\n        except httpx.RequestError as e:\n            logger.error(f\"Request error fetching Pokemon {pokemon_id}: {e}\")\n            raise\n</code></pre>"},{"location":"technical/design-patterns/#benefits","title":"Benefits","text":"<ul> <li>\u2705 Extensibility: Easy to add new Pokemon API providers (e.g., custom API, mock API)</li> <li>\u2705 Testability: Can create mock implementations for testing</li> <li>\u2705 Type Safety: TypedDict definitions ensure data consistency</li> <li>\u2705 Maintainability: Clear interface contract for all implementations</li> </ul>"},{"location":"technical/design-patterns/#usage-in-managers","title":"Usage in Managers","text":"<pre><code>class PokemonManager(models.Manager):\n    def bulk_create_from_pokemon_api(\n        self,\n        pokedex_numbers: list[int],\n        client: BasePokemonClient  # Accepts any implementation\n    ) -&gt; list[models.Model]:\n        \"\"\"\n        Fetch Pokemon from any Pokemon API client and bulk create them.\n\n        Works with PokeAPIClient, MockPokemonClient, or any future implementation.\n        \"\"\"\n        pokemon_data_list = []\n        for pokedex_number in pokedex_numbers:\n            pokemon_data = client.get_pokemon(pokedex_number)\n            if pokemon_data:\n                pokemon_data_list.append(pokemon_data)\n        # ... process and create Pokemon ...\n</code></pre>"},{"location":"technical/design-patterns/#future-extensibility","title":"Future Extensibility","text":"<p>Adding a New Provider:</p> <pre><code>class CustomPokemonClient(BasePokemonClient):\n    \"\"\"Custom Pokemon API implementation.\"\"\"\n\n    def get_pokemon(self, pokemon_id: int) -&gt; PokemonData | None:\n        # Custom implementation\n        pass\n\n    # Implement all abstract methods...\n</code></pre> <p>Mock Implementation for Testing:</p> <pre><code>class MockPokemonClient(BasePokemonClient):\n    \"\"\"Mock client for testing.\"\"\"\n\n    def __init__(self):\n        self.pokemon_data = {}\n\n    def get_pokemon(self, pokemon_id: int) -&gt; PokemonData | None:\n        return self.pokemon_data.get(pokemon_id)\n\n    # Implement all abstract methods with mock data...\n</code></pre>"},{"location":"technical/design-patterns/#type-safety-with-typeddict","title":"Type Safety with TypedDict","text":""},{"location":"technical/design-patterns/#type-definitions","title":"Type Definitions","text":"<pre><code>from typing import TypedDict\n\nclass PokemonStatsData(TypedDict):\n    hp: int\n    attack: int\n    defense: int\n    speed: int\n\nclass PokemonData(TypedDict):\n    pokedex_number: int\n    name: str\n    types: list[str]\n    stats: PokemonStatsData\n    sprite_url: str\n</code></pre>"},{"location":"technical/design-patterns/#benefits_1","title":"Benefits","text":"<ul> <li>\u2705 IDE Support: Autocomplete and type checking</li> <li>\u2705 Runtime Safety: Type validation</li> <li>\u2705 Documentation: Self-documenting code</li> <li>\u2705 Refactoring: Safer code changes</li> </ul>"},{"location":"technical/docker-infrastructure/","title":"Docker &amp; Infrastructure","text":""},{"location":"technical/docker-infrastructure/#docker-compose-with-custom-networks","title":"Docker Compose with Custom Networks","text":"<p>Designed a production-ready multi-container architecture with security-focused network isolation.</p>"},{"location":"technical/docker-infrastructure/#network-architecture","title":"Network Architecture","text":"<pre><code>networks:\n  frontend-network:\n    driver: bridge\n    # Public-facing network for Nginx and client applications\n\n  backend-network:\n    driver: bridge\n    internal: true  # No external access - DB isolated\n    # Private network for backend services\n</code></pre>"},{"location":"technical/docker-infrastructure/#network-isolation-strategy","title":"Network Isolation Strategy","text":"<pre><code>services:\n  nginx:\n    networks:\n      - frontend-network  # Public-facing network\n\n  backend:\n    networks:\n      - frontend-network   # Can communicate with Nginx\n      - backend-network    # Can access database\n\n  postgres:\n    networks:\n      - backend-network    # Only accessible by backend\n    # NOT accessible from internet or external networks\n\n  redis:\n    networks:\n      - backend-network    # Only accessible by backend\n</code></pre>"},{"location":"technical/docker-infrastructure/#security-benefits","title":"Security Benefits","text":"<ul> <li>\u2705 Database Isolation: PostgreSQL not exposed to external networks</li> <li>\u2705 Principle of Least Privilege: Each service only accesses what it needs</li> <li>\u2705 Attack Surface Reduction: Backend services hidden from public internet</li> <li>\u2705 Network Segmentation: Public and private networks separated</li> </ul>"},{"location":"technical/docker-infrastructure/#docker-secrets-management","title":"Docker Secrets Management","text":"<p>Implemented secure secret management using Docker Compose secrets.</p>"},{"location":"technical/docker-infrastructure/#secrets-configuration","title":"Secrets Configuration","text":"<pre><code>secrets:\n  django_secret_key:\n    file: ./secrets/django_secret_key.txt\n  db_password:\n    file: ./secrets/db_password.txt\n</code></pre>"},{"location":"technical/docker-infrastructure/#usage-in-services","title":"Usage in Services","text":"<pre><code>services:\n  backend:\n    secrets:\n      - django_secret_key\n      - db_password\n    environment:\n      - DJANGO_SECRET_KEY_FILE=/run/secrets/django_secret_key\n      - POSTGRES_PASSWORD_FILE=/run/secrets/db_password\n\n  postgres:\n    secrets:\n      - db_password\n    environment:\n      - POSTGRES_PASSWORD_FILE=/run/secrets/db_password\n</code></pre>"},{"location":"technical/docker-infrastructure/#secret-reading-in-django","title":"Secret Reading in Django","text":"<pre><code>def read_secret(secret_name: str, default: str = \"\") -&gt; str:\n    \"\"\"\n    Read secret from Docker secret file or environment variable.\n\n    Supports both Docker secrets (via file) and environment variables\n    for local development.\n    \"\"\"\n    secret_file = os.environ.get(f\"{secret_name.upper()}_FILE\")\n    if secret_file and os.path.exists(secret_file):\n        with open(secret_file, \"r\") as f:\n            return f.read().strip()\n    return os.environ.get(secret_name.upper(), default)\n\n# Usage in settings.py\nSECRET_KEY = read_secret(\"django_secret_key\")\nDATABASES = {\n    \"default\": {\n        \"PASSWORD\": read_secret(\"db_password\", \"postgres\"),\n    }\n}\n</code></pre>"},{"location":"technical/docker-infrastructure/#security-features","title":"Security Features","text":"<ul> <li>\u2705 No Secrets in Code: All secrets stored in files (excluded from Git)</li> <li>\u2705 Runtime Injection: Secrets mounted at runtime, not in images</li> <li>\u2705 Environment Fallback: Supports both Docker secrets and environment variables</li> <li>\u2705 Development Friendly: Default values for local development</li> <li>\u2705 Git Ignored: <code>secrets/</code> directory excluded from version control</li> </ul>"},{"location":"technical/docker-infrastructure/#health-checks-service-dependencies","title":"Health Checks &amp; Service Dependencies","text":"<p>Implemented robust health checks and service dependency management.</p>"},{"location":"technical/docker-infrastructure/#backend-health-check","title":"Backend Health Check","text":"<pre><code>services:\n  backend:\n    healthcheck:\n      test: [\"CMD\", \"python\", \"-c\",\n             \"import urllib.request; \"\n             \"urllib.request.urlopen('http://localhost:8000/health/').read()\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s\n</code></pre> <p>Health Endpoint:</p> <pre><code># config/urls.py\ndef health_check(request):\n    return JsonResponse({\"status\": \"ok\"})\n</code></pre>"},{"location":"technical/docker-infrastructure/#database-health-check","title":"Database Health Check","text":"<pre><code>services:\n  postgres:\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres -d pokemon_battle\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n</code></pre>"},{"location":"technical/docker-infrastructure/#resource-management","title":"Resource Management","text":""},{"location":"technical/docker-infrastructure/#memory-limits","title":"Memory Limits","text":"<pre><code>services:\n  nginx:\n    deploy:\n      resources:\n        limits:\n          memory: 50M\n\n  backend:\n    deploy:\n      resources:\n        limits:\n          memory: 512M\n\n  postgres:\n    deploy:\n      resources:\n        limits:\n          memory: 1G\n\n  redis:\n    deploy:\n      resources:\n        limits:\n          memory: 200M\n</code></pre>"},{"location":"technical/docker-infrastructure/#restart-policies","title":"Restart Policies","text":"<pre><code>services:\n  backend:\n    restart: unless-stopped  # Restart unless manually stopped\n\n  postgres:\n    restart: unless-stopped\n\n  redis:\n    restart: unless-stopped\n</code></pre>"},{"location":"technical/docker-infrastructure/#nginx-reverse-proxy","title":"Nginx Reverse Proxy","text":""},{"location":"technical/docker-infrastructure/#configuration","title":"Configuration","text":"<pre><code>upstream backend {\n    server backend:8000;\n}\n\nserver {\n    listen 80;\n\n    # API routes\n    location /api {\n        proxy_pass http://backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    # Health check endpoint\n    location /health {\n        proxy_pass http://backend;\n    }\n}\n</code></pre>"},{"location":"technical/docker-infrastructure/#benefits","title":"Benefits","text":"<ul> <li>\u2705 Single Entry Point: All traffic through port 80</li> <li>\u2705 Load Balancing: Can add multiple backend instances</li> <li>\u2705 SSL Termination: Easy to add SSL/TLS</li> <li>\u2705 Request Routing: Smart routing based on URL patterns</li> </ul>"},{"location":"technical/docker-infrastructure/#volume-management","title":"Volume Management","text":""},{"location":"technical/docker-infrastructure/#persistent-data","title":"Persistent Data","text":"<pre><code>volumes:\n  postgres_data:\n    # PostgreSQL data persists across container restarts\n  redis_data:\n    # Redis data persists across container restarts\n</code></pre>"},{"location":"technical/docker-infrastructure/#usage","title":"Usage","text":"<pre><code>services:\n  postgres:\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    volumes:\n      - redis_data:/data\n</code></pre>"},{"location":"technical/management-commands/","title":"Management Commands","text":""},{"location":"technical/management-commands/#custom-django-management-commands","title":"Custom Django Management Commands","text":"<p>Created comprehensive database seeding commands with orchestration for easy database setup and maintenance.</p>"},{"location":"technical/management-commands/#main-seeder-command","title":"Main Seeder Command","text":"<p>Command: <code>python manage.py seed_all</code></p> <pre><code>from django.core.management import call_command\nfrom django.core.management.base import BaseCommand\n\nclass Command(BaseCommand):\n    \"\"\"\n    Orchestrates all seeder commands in the correct order:\n    1. seed_pokemon_types - Seeds PokemonType model with all types from PokeAPI\n    2. seed_type_effectiveness - Seeds TypeEffectiveness model with type matchups\n    3. seed_pokemon - Seeds Pokemon model with Pokemon data (default: 20 Pokemon)\n\n    Usage:\n        python manage.py seed_all\n        python manage.py seed_all --pokemon-count 50\n\n    Options:\n        --pokemon-count: Number of Pokemon to seed (default: 20)\n    \"\"\"\n\n    help = \"Run all seeder commands in the correct order\"\n\n    def add_arguments(self, parser):\n        parser.add_argument(\n            \"--pokemon-count\",\n            type=int,\n            default=20,\n            help=\"Number of Pokemon to seed (default: 20)\",\n        )\n\n    def handle(self, *args, **options):\n        pokemon_count = options[\"pokemon_count\"]\n        self.stdout.write(self.style.SUCCESS(\"=\" * 60))\n        self.stdout.write(self.style.SUCCESS(\"Starting full database seeding process\"))\n        self.stdout.write(self.style.SUCCESS(\"=\" * 60))\n\n        try:\n            # Step 1: Seed Pokemon Types\n            self.stdout.write(self.style.WARNING(\"\\n[Step 1/3] Seeding Pokemon Types...\"))\n            call_command(\"seed_pokemon_types\")\n            self.stdout.write(self.style.SUCCESS(\"\u2713 Pokemon Types seeded successfully\\n\"))\n\n            # Step 2: Seed Type Effectiveness\n            self.stdout.write(self.style.WARNING(\"[Step 2/3] Seeding Type Effectiveness...\"))\n            call_command(\"seed_type_effectiveness\")\n            self.stdout.write(self.style.SUCCESS(\"\u2713 Type Effectiveness seeded successfully\\n\"))\n\n            # Step 3: Seed Pokemon\n            self.stdout.write(self.style.WARNING(f\"[Step 3/3] Seeding Pokemon (count: {pokemon_count})...\"))\n            call_command(\"seed_pokemon\", count=pokemon_count)\n            self.stdout.write(self.style.SUCCESS(\"\u2713 Pokemon seeded successfully\\n\"))\n\n            self.stdout.write(self.style.SUCCESS(\"=\" * 60))\n            self.stdout.write(self.style.SUCCESS(\"All seeders completed successfully!\"))\n            self.stdout.write(self.style.SUCCESS(\"=\" * 60))\n        except Exception as e:\n            self.stdout.write(self.style.ERROR(\"=\" * 60))\n            self.stdout.write(self.style.ERROR(f\"Seeding failed with error: {e}\"))\n            self.stdout.write(self.style.ERROR(\"=\" * 60))\n            raise\n</code></pre>"},{"location":"technical/management-commands/#individual-seed-commands","title":"Individual Seed Commands","text":""},{"location":"technical/management-commands/#1-seed-pokemon-types","title":"1. Seed Pokemon Types","text":"<p>Command: <code>python manage.py seed_pokemon_types</code></p> <pre><code>class Command(BaseCommand):\n    \"\"\"\n    Seeds PokemonType model with all 18 Pokemon types from PokeAPI.\n\n    Fetches type data from external PokeAPI and creates PokemonType records.\n    Idempotent - safe to run multiple times.\n    \"\"\"\n\n    help = \"Seed Pokemon types from PokeAPI\"\n\n    def handle(self, *args, **options):\n        client = PokeAPIClient()\n        all_types = client.get_all_types()\n\n        created_count = 0\n        for type_name in all_types:\n            pokemon_type, created = PokemonType.objects.get_or_create(\n                name=type_name\n            )\n            if created:\n                created_count += 1\n\n        self.stdout.write(\n            self.style.SUCCESS(\n                f\"Successfully seeded {created_count} new Pokemon types. \"\n                f\"Total types: {PokemonType.objects.count()}\"\n            )\n        )\n</code></pre> <p>Features: - \u2705 Fetches all 18 Pokemon types from PokeAPI - \u2705 Idempotent (safe to run multiple times) - \u2705 Creates only new types (skips existing) - \u2705 Provides feedback on created vs existing types</p>"},{"location":"technical/management-commands/#2-seed-type-effectiveness","title":"2. Seed Type Effectiveness","text":"<p>Command: <code>python manage.py seed_type_effectiveness</code></p> <pre><code>class Command(BaseCommand):\n    \"\"\"\n    Seeds TypeEffectiveness model with complete 18x18 type matchup matrix.\n\n    Creates 324 entries (18 types \u00d7 18 types) with damage multipliers.\n    Uses PokeAPI to fetch type effectiveness data.\n    \"\"\"\n\n    help = \"Seed type effectiveness chart from PokeAPI\"\n\n    def handle(self, *args, **options):\n        client = PokeAPIClient()\n        all_types = PokemonType.objects.all()\n\n        created_count = 0\n        for attacker_type in all_types:\n            effectiveness_data = client.get_type_effectiveness(attacker_type.name)\n\n            for defender_type in all_types:\n                multiplier = effectiveness_data.get(defender_type.name, 1.0)\n\n                type_effectiveness, created = TypeEffectiveness.objects.get_or_create(\n                    attacker_type=attacker_type,\n                    defender_type=defender_type,\n                    defaults={\"multiplier\": multiplier}\n                )\n                if created:\n                    created_count += 1\n\n        self.stdout.write(\n            self.style.SUCCESS(\n                f\"Successfully seeded {created_count} type effectiveness entries. \"\n                f\"Total entries: {TypeEffectiveness.objects.count()}\"\n            )\n        )\n</code></pre> <p>Features: - \u2705 Creates complete 18\u00d718 type matchup matrix (324 entries) - \u2705 Fetches data from PokeAPI - \u2705 Handles super effective, not very effective, and no effect multipliers - \u2705 Idempotent operation</p>"},{"location":"technical/management-commands/#3-seed-pokemon","title":"3. Seed Pokemon","text":"<p>Command: <code>python manage.py seed_pokemon --count 20</code></p> <pre><code>class Command(BaseCommand):\n    \"\"\"\n    Seeds Pokemon model with Pokemon data from PokeAPI.\n\n    Fetches Pokemon by Pokedex number and creates Pokemon records with:\n    - Stats (HP, Attack, Defense, Speed)\n    - Types (Primary and Secondary)\n    - Sprite URLs\n    - Names and Pokedex numbers\n\n    Usage:\n        python manage.py seed_pokemon\n        python manage.py seed_pokemon --count 50\n    \"\"\"\n\n    help = \"Seed Pokemon from PokeAPI\"\n\n    def add_arguments(self, parser):\n        parser.add_argument(\n            \"--count\",\n            type=int,\n            default=20,\n            help=\"Number of Pokemon to seed (default: 20)\",\n        )\n\n    def handle(self, *args, **options):\n        count = options[\"count\"]\n        client = PokeAPIClient()\n\n        created_count = 0\n        for pokedex_number in range(1, count + 1):\n            pokemon_data = client.get_pokemon(pokedex_number)\n            if not pokemon_data:\n                self.stdout.write(\n                    self.style.WARNING(\n                        f\"Pokemon #{pokedex_number} not found, skipping...\"\n                    )\n                )\n                continue\n\n            # Create Pokemon using manager method\n            pokemon, created = Pokemon.objects.get_or_create(\n                pokedex_number=pokedex_number,\n                defaults={\n                    \"name\": pokemon_data[\"name\"],\n                    \"base_hp\": pokemon_data[\"stats\"][\"hp\"],\n                    \"base_attack\": pokemon_data[\"stats\"][\"attack\"],\n                    \"base_defense\": pokemon_data[\"stats\"][\"defense\"],\n                    \"base_speed\": pokemon_data[\"stats\"][\"speed\"],\n                    \"sprite_url\": pokemon_data[\"sprite_url\"],\n                    # ... type assignments ...\n                }\n            )\n            if created:\n                created_count += 1\n\n        self.stdout.write(\n            self.style.SUCCESS(\n                f\"Successfully seeded {created_count} new Pokemon. \"\n                f\"Total Pokemon: {Pokemon.objects.count()}\"\n            )\n        )\n</code></pre> <p>Features: - \u2705 Configurable Pokemon count - \u2705 Fetches from PokeAPI with error handling - \u2705 Creates Pokemon with all stats and types - \u2705 Skips Pokemon that already exist - \u2705 Progress feedback</p>"},{"location":"technical/management-commands/#command-features","title":"Command Features","text":""},{"location":"technical/management-commands/#idempotency","title":"Idempotency","text":"<p>All commands are idempotent - safe to run multiple times:</p> <pre><code># First run - creates data\npython manage.py seed_all\n# \u2192 Creates all Pokemon types, effectiveness, and Pokemon\n\n# Second run - skips existing\npython manage.py seed_all\n# \u2192 Only creates new data, skips existing\n</code></pre>"},{"location":"technical/management-commands/#progress-feedback","title":"Progress Feedback","text":"<p>Commands provide colored, informative output:</p> <pre><code>============================================================\nStarting full database seeding process\n============================================================\n\n[Step 1/3] Seeding Pokemon Types...\n\u2713 Pokemon Types seeded successfully\n\n[Step 2/3] Seeding Type Effectiveness...\n\u2713 Type Effectiveness seeded successfully\n\n[Step 3/3] Seeding Pokemon (count: 20)...\n\u2713 Pokemon seeded successfully\n\n============================================================\nAll seeders completed successfully!\n============================================================\n</code></pre>"},{"location":"technical/management-commands/#error-handling","title":"Error Handling","text":"<p>Comprehensive error handling with clear messages:</p> <pre><code>try:\n    # Seeding logic\nexcept Exception as e:\n    self.stdout.write(self.style.ERROR(\"=\" * 60))\n    self.stdout.write(self.style.ERROR(f\"Seeding failed with error: {e}\"))\n    self.stdout.write(self.style.ERROR(\"=\" * 60))\n    raise\n</code></pre>"},{"location":"technical/management-commands/#usage-examples","title":"Usage Examples","text":""},{"location":"technical/management-commands/#basic-usage","title":"Basic Usage","text":"<pre><code># Seed with default settings (20 Pokemon)\npython manage.py seed_all\n\n# Seed with custom Pokemon count\npython manage.py seed_all --pokemon-count 50\n\n# Seed individual components\npython manage.py seed_pokemon_types\npython manage.py seed_type_effectiveness\npython manage.py seed_pokemon --count 30\n</code></pre>"},{"location":"technical/management-commands/#docker-usage","title":"Docker Usage","text":"<pre><code># Run in Docker container\ndocker-compose exec backend python manage.py seed_all\n\n# Run with custom count\ndocker-compose exec backend python manage.py seed_all --pokemon-count 100\n</code></pre>"},{"location":"technical/management-commands/#best-practices","title":"Best Practices","text":"<ol> <li>Idempotency: Always check if data exists before creating</li> <li>Error Handling: Provide clear error messages</li> <li>Progress Feedback: Show what's happening</li> <li>Flexibility: Allow configuration via arguments</li> <li>Documentation: Clear help text and docstrings</li> <li>Validation: Validate input arguments</li> <li>Transaction Safety: Use database transactions when appropriate</li> </ol>"},{"location":"technical/management-commands/#command-structure","title":"Command Structure","text":"<pre><code>backend/\n\u2514\u2500\u2500 pokemon/\n    \u2514\u2500\u2500 management/\n        \u2514\u2500\u2500 commands/\n            \u251c\u2500\u2500 __init__.py\n            \u251c\u2500\u2500 seed_all.py          # Main orchestrator\n            \u251c\u2500\u2500 seed_pokemon_types.py\n            \u251c\u2500\u2500 seed_type_effectiveness.py\n            \u2514\u2500\u2500 seed_pokemon.py\n</code></pre>"},{"location":"technical/testing/","title":"Testing Infrastructure","text":""},{"location":"technical/testing/#comprehensive-test-suite-with-pytest","title":"Comprehensive Test Suite with pytest","text":"<p>Built a robust testing infrastructure using pytest with Django integration for comprehensive test coverage.</p>"},{"location":"technical/testing/#test-configuration","title":"Test Configuration","text":"<p>Global Fixtures (<code>conftest.py</code>):</p> <pre><code>import pytest\nfrom rest_framework.test import APIClient\nfrom players.models import Player\nfrom pokemon.models import Pokemon, PokemonType, TypeEffectiveness\n\n@pytest.fixture\ndef api_client():\n    \"\"\"DRF API client for testing.\"\"\"\n    return APIClient()\n\n@pytest.fixture\ndef create_player(db):\n    \"\"\"Factory function for creating test players.\"\"\"\n    def _create_player(username=\"testuser\", password=\"TestPass123!\", **kwargs):\n        return Player.objects.create_user(\n            username=username,\n            password=password,\n            **kwargs\n        )\n    return _create_player\n\n@pytest.fixture\ndef create_pokemon_type(db):\n    \"\"\"Factory function for creating Pokemon types.\"\"\"\n    def _create_pokemon_type(name=\"fire\", **kwargs):\n        return PokemonType.objects.create(name=name, **kwargs)\n    return _create_pokemon_type\n\n@pytest.fixture\ndef create_pokemon(db, create_pokemon_type):\n    \"\"\"Factory function for creating test Pokemon.\"\"\"\n    def _create_pokemon(\n        name=\"Pikachu\",\n        pokedex_number=25,\n        primary_type=None,\n        secondary_type=None,\n        **kwargs\n    ):\n        if primary_type is None:\n            primary_type = create_pokemon_type(name=\"electric\")\n\n        defaults = {\n            \"base_hp\": 35,\n            \"base_attack\": 55,\n            \"base_defense\": 40,\n            \"base_speed\": 90,\n            \"sprite_url\": \"https://example.com/pikachu.png\",\n            \"primary_type\": primary_type,\n            \"secondary_type\": secondary_type,\n            **kwargs,\n        }\n        return Pokemon.objects.create(\n            name=name,\n            pokedex_number=pokedex_number,\n            **defaults\n        )\n    return _create_pokemon\n</code></pre>"},{"location":"technical/testing/#test-examples","title":"Test Examples","text":""},{"location":"technical/testing/#authentication-tests","title":"Authentication Tests","text":"<p>Registration Tests:</p> <pre><code>@pytest.mark.django_db\nclass TestAuthRegisterPOST:\n    @pytest.fixture(autouse=True)\n    def setup(self, api_client):\n        self.client = api_client\n        self.url = reverse(\"players:auth-register\")\n\n    def test_register_with_valid_data_returns_201(self):\n        data = {\"username\": \"newuser\", \"password\": \"StrongPass123!\"}\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_201_CREATED\n        assert set(json_response.keys()) == {\"id\", \"username\", \"created_at\", \"token\"}\n        assert set(json_response[\"token\"].keys()) == {\"access\", \"refresh\"}\n        assert json_response[\"username\"] == \"newuser\"\n        assert Player.objects.filter(username=\"newuser\").exists()\n\n    def test_register_with_duplicate_username_returns_400(self, create_player):\n        create_player(username=\"existinguser\")\n        data = {\"username\": \"existinguser\", \"password\": \"StrongPass123!\"}\n\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_400_BAD_REQUEST\n        assert json_response == {\"username\": [\"Player with this username already exists.\"]}\n\n    def test_register_with_weak_password_returns_400(self):\n        data = {\"username\": \"newuser\", \"password\": \"123\"}\n\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_400_BAD_REQUEST\n        assert \"password\" in json_response\n</code></pre> <p>Login Tests:</p> <pre><code>@pytest.mark.django_db\nclass TestAuthLoginPOST:\n    @pytest.fixture(autouse=True)\n    def setup(self, api_client, create_player):\n        self.client = api_client\n        self.url = reverse(\"players:auth-login\")\n        self.player = create_player(username=\"testuser\", password=\"TestPass123!\")\n\n    def test_login_with_valid_credentials_returns_200(self):\n        data = {\"username\": \"testuser\", \"password\": \"TestPass123!\"}\n\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_200_OK\n        assert set(json_response.keys()) == {\"id\", \"username\", \"created_at\", \"token\"}\n        assert set(json_response[\"token\"].keys()) == {\"access\", \"refresh\"}\n        assert json_response[\"username\"] == \"testuser\"\n\n    def test_login_with_invalid_password_returns_400(self):\n        data = {\"username\": \"testuser\", \"password\": \"WrongPassword123!\"}\n\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_400_BAD_REQUEST\n        assert json_response == {\"detail\": [\"Invalid credentials.\"]}\n</code></pre> <p>Token Refresh Tests:</p> <pre><code>@pytest.mark.django_db\nclass TestAuthRefreshPOST:\n    @pytest.fixture(autouse=True)\n    def setup(self, api_client, create_player):\n        self.client = api_client\n        self.url = reverse(\"players:auth-refresh\")\n        self.login_url = reverse(\"players:auth-login\")\n        self.player = create_player(username=\"testuser\", password=\"TestPass123!\")\n\n    def _get_refresh_token(self):\n        response = self.client.post(\n            self.login_url,\n            data={\"username\": \"testuser\", \"password\": \"TestPass123!\"},\n        )\n        return response.json()[\"token\"][\"refresh\"]\n\n    def test_refresh_with_valid_token_returns_200(self):\n        refresh_token = self._get_refresh_token()\n        data = {\"refresh\": refresh_token}\n\n        response = self.client.post(self.url, data=data)\n        json_response = response.json()\n\n        assert response.status_code == status.HTTP_200_OK\n        assert set(json_response.keys()) == {\"access\", \"refresh\"}\n        assert json_response[\"access\"]\n        assert json_response[\"refresh\"]\n</code></pre>"},{"location":"technical/testing/#testing-best-practices","title":"Testing Best Practices","text":""},{"location":"technical/testing/#test-organization","title":"Test Organization","text":"<ol> <li>Class-Based Tests: Group related tests in classes</li> <li>Descriptive Names: Test names describe what they test</li> <li>Setup Fixtures: Use <code>autouse=True</code> for common setup</li> <li>Factory Functions: Reusable test data creation</li> </ol>"},{"location":"technical/testing/#test-coverage","title":"Test Coverage","text":"<p>Current Coverage: - \u2705 Authentication endpoints (register, login, refresh) - \u2705 Player model and serializers - \u2705 Error handling and validation - \u2705 Edge cases and boundary conditions</p> <p>Test Types: - Unit Tests: Test individual functions/methods - Integration Tests: Test API endpoints end-to-end - Model Tests: Test database operations - Serializer Tests: Test data validation</p>"},{"location":"technical/testing/#test-isolation","title":"Test Isolation","text":"<pre><code>@pytest.mark.django_db  # Each test gets isolated database\nclass TestSomething:\n    def test_one(self):\n        # Database is clean here\n        pass\n\n    def test_two(self):\n        # Database is clean here too (not affected by test_one)\n        pass\n</code></pre>"},{"location":"technical/testing/#assertions","title":"Assertions","text":"<p>Clear Assertions:</p> <pre><code># Good: Clear what's being tested\nassert response.status_code == status.HTTP_201_CREATED\nassert json_response[\"username\"] == \"newuser\"\nassert Player.objects.filter(username=\"newuser\").exists()\n\n# Good: Check structure\nassert set(json_response.keys()) == {\"id\", \"username\", \"created_at\", \"token\"}\n</code></pre>"},{"location":"technical/testing/#running-tests","title":"Running Tests","text":""},{"location":"technical/testing/#basic-commands","title":"Basic Commands","text":"<pre><code># Run all tests\npytest\n\n# Run specific test file\npytest backend/players/tests/test_auth.py\n\n# Run specific test\npytest backend/players/tests/test_auth.py::TestAuthRegisterPOST::test_register_with_valid_data_returns_201\n\n# Run with coverage\npytest --cov=backend --cov-report=html\n\n# Run with verbose output\npytest -v\n</code></pre>"},{"location":"technical/testing/#test-configuration_1","title":"Test Configuration","text":"<p><code>pytest.ini</code>:</p> <pre><code>[pytest]\nDJANGO_SETTINGS_MODULE = config.settings\npython_files = tests.py test_*.py *_tests.py\npython_classes = Test*\npython_functions = test_*\naddopts =\n    --strict-markers\n    --tb=short\n</code></pre>"},{"location":"technical/testing/#test-metrics","title":"Test Metrics","text":"<ul> <li>Test Count: 15+ test cases</li> <li>Coverage Areas: Authentication, Models, Serializers</li> <li>Test Speed: Fast execution (&lt; 5 seconds)</li> <li>Reliability: 100% pass rate</li> </ul>"}]}